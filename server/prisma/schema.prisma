datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

type ContestInfo {
  contestId String
}

type ProblemSetInfo {
  problemId String
}

model testing {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  email     String   @unique
  title     String
  createdAt DateTime @default(now())
}

type Role {
  User  Boolean
  Admin Boolean
}

// type Test_Type{
//   input String
//   output String
// }
model User {
  id                      String           @id @default(auto()) @map("_id") @db.ObjectId
  name                    String?
  age                     Int?
  email                   String           @unique
  password                String?
  userName                String?          @unique
  totalRank               Int?
  noOfProblemSolved       Int?
  solvedProblemDetails    ProblemSetInfo[]
  noOfContestParticipated Int?
  contestDetails          ContestInfo[]
  gender                  String?
  collegeName             String?
  state                   String?
  country                 String?
  role                    Role?
  googleLoginAccess       Boolean?
  profilePictureUrl       String
}

// model Problem_Set{
//   id       String    @id @default(auto()) @map("_id") @db.ObjectId
//   problem_no Int 
//   like Int
//   dislike Int

// }
type InputOutputType {
  input  String
  output String
}
enum categoryEnum {
  ALGORITHMS
  AI
  CONCURRENCY
}

enum StatusEnum {
  UNSOLVED
  SOLVED
}

enum TopicEnum {
  ARRAY
  STRING
  BINARYSEARCH
  DYNAMICPROGRAMMING
  GRAPH
}
type CodeTemplateType{
  c String
  cpp String
  java String
  go String
}


model ProblemSet {
  id                String            @id @default(auto()) @map("_id") @db.ObjectId
  problemNo         Int               @unique
  problemName       String
  description       String
  companies         String[]
  like              Int
  dislike           Int
  sampleInputOutput InputOutputType[]
  testcases         InputOutputType[]
  constraint        String[]
  topic             TopicEnum[]
  accepted          Int
  submission        Int
  status            StatusEnum
  category          categoryEnum
  aboveCodeTemplate CodeTemplateType
  belowCodeTemplate CodeTemplateType
  middleCode        CodeTemplateType
}

model Contest {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  contestNo        Int      @unique
  contestName      String
  duration         Int
  startTime        DateTime
  problems         Int[]
  status           String
  noOfParticipated Int
}
